!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}n.r(t);var r,a=function(e,t,n,o){var r=new XMLHttpRequest;return"function"==typeof o&&(r.onreadystatechange=function(){if(4===r.readyState&&200===r.status){var e;try{e=JSON.parse(r.response)}catch(e){return e}o.call(null,e)}}),r.open("GET",e,!0),r.timeout=n,r.withCredentials=!0,r.send(t),!0},i=!0,c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=t}var t,n,c;return t=e,(n=[{key:"emit",value:function(e){e.td_client_id=r.deviceId,e.root_id=r.rootId;var t,n=btoa(unescape(encodeURIComponent(JSON.stringify(e)))),o=(t=(+new Date).toString(10),document.location&&document.location.protocol,"".concat("https:","//").concat(r.endpoint,"/js/v3/event/").concat(r.database,"/").concat(r.table,"?api_key=").concat(r.writeKey,"&modified=").concat(t,"&data="));if(o+=encodeURIComponent(n),o+="&callback=none","sendBeacon"in navigator&&"function"==typeof navigator.sendBeacon&&!0===i){try{i=navigator.sendBeacon(o)}catch(e){i=!1}if(!i)if("fetch"in window[r.target]&&"function"==typeof window[r.target].fetch){var c=new AbortController,d={signal:c.signal,method:"GET",cache:"no-store",keepalive:!0};setTimeout(function(){return c.abort()},r.timeout),window[r.target].fetch(o,d)}else a(o,n,r.timeout)}else a(o,n,r.timeout)}}])&&o(t.prototype,n),c&&o(t,c),e}();function d(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var l={},u=0,s=function(){function e(t){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);try{n=new CustomEvent(t.eventName)}catch(e){(n=window.parent.document.createEvent("CustomEvent")).initCustomEvent(t.eventName,!1,!1,{})}window.parent.requestAnimationFrame=window.parent.requestAnimationFrame||window.parent.mozRequestAnimationFrame||window.parent.webkitRequestAnimationFrame,function e(){if(window.parent.requestAnimationFrame(e),o)return!1;o=setTimeout(function(){window.parent.dispatchEvent(n),o=null},t.eventFrequency)}()}var t,n,o;return t=e,(n=[{key:"addListener",value:function(e,t,n,o){return e.addEventListener(t,n,o),l[u]={element:e,type:t,listener:n,capture:o},u++}},{key:"removeListener",value:function(e){if(e in l){var t=l[e];t.element.removeEventListener(t.type,t.listener,t.capture)}}}])&&d(t.prototype,n),o&&d(t,o),e}();function m(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var p,f,v,w,g=function(){for(var e=(+new Date).toString(36),t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",n="",o=0;o<32;o++)n+=t[Math.floor(Math.random()*t.length)];return"".concat(e,"-").concat(n)},h=function(){var e,t,n=(e=p,t=window.parent.document.cookie||"",("; ".concat(t,";").match("; ".concat(e,"=([^Â¥S;]*)"))||[])[1]||""),o=localStorage.getItem(p)||"";return n.length>8?n:o.length>8?o:w},y=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),w=g(),p=t.storageName,f=t.storageExpires,v=t.storageDomain,this.deviceId=h(),this.rootId=w}var t,n,o;return t=e,(n=[{key:"setDeviceId",value:function(e){this.deviceId=e;try{localStorage.setItem(p,e)}catch(t){window.parent.document.cookie="".concat(p,"=").concat(e,"; Domain=").concat(v," ;Path=/; Max-Age=").concat(f,"; SameSite=Lax")}}}])&&m(t.prototype,n),o&&m(t,o),e}();function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var k=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,(n=[{key:"getPerformanceInfo",value:function(){var e=window.performance.timing,t=e.domInteractive-e.domLoading,n=e.domContentLoadedEventStart-e.domLoading,o=e.domComplete-e.domLoading;return{pt_interactive:t>=0?t:void 0,pt_dcl:n>=0?n:void 0,pt_complete:o>=0?o:void 0}}},{key:"getClientInfo",value:function(e){return{viewport_h:window[e].innerHeight,viewport_w:window[e].innerWidth,screen_h:window[e].screen.height,screen_w:window[e].screen.width}}},{key:"getMediaInfo",value:function(e){return!!e&&{md_src:e.src,md_current_time:Math.round(10*e.currentTime)/10,md_duration:Math.round(10*e.duration)/10,md_played_percent:Math.round(e.currentTime/e.duration*1e3)/10,md_type:e.type||void 0,md_width:e.clientWidth||void 0,md_height:e.clientHeight||void 0,md_muted:e.muted||!1,md_default_muted:e.defaultMuted||!1,md_autoplay:e.autoplay||!1,md_player_id:e.playerId||void 0,md_dataset:e.dataset}}},{key:"getVisibility",value:function(e,t){var n=0,o={};try{o=e.getBoundingClientRect(),n=e.innerText.length}catch(e){o={}}var r=window[t].innerHeight,a=window[t].document.documentElement.scrollHeight,i=window[t].document.visibilityState||"unknown",c="pageYOffset"in window[t]?window[t].pageYOffset:(window[t].document.documentElement||window[t].document.body.parentNode||window[t].document.body).scrollTop,d=c+r,l=o.height,u=o.top<=0?0:o.top,s=-1*(o.bottom-r)<=0?0:-1*(o.bottom-r),m=d,p=d/a,f=null,v=null,w=!1;return o.top>=0&&o.bottom>r&&o.top>=r?(f=null,v=null,w=!1):o.top>=0&&o.bottom>r&&o.top<r?(f=0,v=r-o.top,w=!0):o.top<0&&o.bottom>r?(v=(f=-1*o.top)+r,w=!0):o.top>=0&&o.bottom<=r?(f=0,v=l,w=!0):o.top<0&&o.bottom>=0&&o.bottom<=r?(f=l+o.top,v=l,w=!0):o.top<0&&o.bottom<0?(f=null,v=null,w=!1):w=!1,{dHeight:a,dIsVisible:i,dVisibleTop:c,dVisibleBottom:d,dScrollUntil:m,dScrollRate:p,tHeight:l,tVisibleTop:f,tVisibleBottom:v,tMarginTop:u,tMarginBottom:s,tScrollUntil:v,tScrollRate:v/l,tViewableRate:(v-f)/l,tIsInView:w,tLength:n}}},{key:"queryMatch",value:function(e,t){var n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"data-trackable",r="button",a=[];for(3===t.nodeType&&(t=t.parentNode);t&&t!==window.parent.document;){var i=(t.matches||t.msMatchesSelector||function(){return!1}).bind(t);t.hasAttribute(o)&&a.unshift(t.getAttribute(o)),!n&&i(e)&&(r="a"===t.tagName.toLowerCase()?"link":t.tagName.toLowerCase(),n=t),t=t.parentNode}return!!(n&&a.length>0)&&{element:n,category:r,path:a.join(">")}}},{key:"mergeObj",value:function(e){for(var t={},n=0;n<e.length;n++)for(var o in e[n])"object"!==b(e[n][o])||null===e[n][o]||Array.isArray(e[n][o])?Array.isArray(e[n][o])?t[o]=t[o]?t[o].concat(e[n][o]):e[n][o]:t[o]=e[n][o]:t[o]=t[o]?this.mergeObj([t[o],e[n][o]]):e[n][o];return t}},{key:"parseUrl",value:function(e){var t,n={},o=document.createElement("a");return e&&(o.href=e,t=o.search.slice(1).split("&").reduce(function(e,t){var n=t.split("=");return e[n[0]]=n[1],e},{}),n={protocol:o.protocol,hostname:o.hostname,port:o.port,pathname:o.pathname,search:o.search,hash:o.hash,query:t}),n}},{key:"parseMeta",value:function(e){for(var t={},n=0;n<e.length;n++){var o=e[n].getAttribute("name"),r=e[n].getAttribute("content");o&&r&&(t[o]=r)}return t}},{key:"getDomain",value:function(e){var t=e.split(".").reverse();return t.length<=2?e:t[1].length>2?t[1]+"."+t[0]:2===t[0].length&&2===t[1].length?t[2]+"."+t[1]+"."+t[0]:e}}])&&_(t.prototype,n),o&&_(t,o),e}();function M(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var S,I,L,T,A,C,E,N,O="0.2.0",j=new Date,x={media:[]},D=new Date,P=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dataModel={td_version:O,td_charset:(document.characterSet||document.charset||"-").toLowerCase(),td_language:(window.navigator&&(window.navigator.language||window.navigator.browserLanguage)||"-").toLowerCase(),td_color:window.screen?window.screen.colorDepth+"-bit":"-",td_title:document.title,td_user_agent:window.navigator.userAgent,td_browser:"td_browser",td_browser_version:"td_browser_version",td_os:"td_os",td_os_version:"td_os_version",td_globl_id:"td_global_id",td_ip:"td_ip"}}var t,n,o;return t=e,(n=[{key:"config",value:function(e){S=e,C=new k,I=S.targetWindow,L=new y({storageName:S.storageName||"_td",storageExpires:S.storageExpires||63072e3,storageDomain:S.storageDomain||C.getDomain(window[I].document.location.hostname),target:I}),T=new c({endpoint:S.endpoint,writeKey:S.writeKey,database:S.database,table:S.table,method:S.method,timeout:S.timeout,prefix:S.prefix,deviceId:L.deviceId,rootId:L.rootId,target:I}),E=C.parseUrl(window[I].document.location.href),N=C.parseMeta(window[I].document.getElementsByTagName("meta")),this.dataModel.td_url=window[I].document.location.href,this.dataModel.td_host=E.hostname,this.dataModel.td_path=E.pathname,this.dataModel.td_referrer=window[I].document.referrer,this.dataModel.td_description=N.description}},{key:"init",value:function(e){this.dataModel=C.mergeObj([this.dataModel,e]),S.eventName&&S.eventFrequency&&void 0===A&&(A=new s({eventName:S.eventName,eventFrequency:S.eventFrequency})),"performance"in window[I]&&("interactive"===window[I].document.readyState||"complete"===window[I].document.readyState?this.trackAction("rum","page",{}):this.trackPerformance(I)),S.options&&S.options.unload&&S.options.unload.enable&&this.trackUnload(I),S.options&&S.options.scroll&&S.options.scroll.enable&&this.trackScroll(S.options.scroll.granularity,S.options.scroll.threshold,S.options.scroll.unit,S.eventName),S.options&&S.options.read&&S.options.read.enable&&this.trackRead(S.options.read.granularity,S.options.read.threshold,S.options.read.target,S.eventName),S.options&&S.options.clicks&&S.options.clicks.enable&&this.trackClicks(S.options.clicks.targetAttr),S.options&&S.options.media&&S.options.media.enable&&this.trackMedia(S.options.media.heartbeat)}},{key:"trackAction",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"unknown",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unknown",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=new Date,r=C.getClientInfo(I),a=C.mergeObj([this.dataModel,n,C.getPerformanceInfo(),{action:e,category:t,since_init_ms:o.getTime()-j.getTime(),since_prev_ms:o.getTime()-D.getTime(),td_viewport:"".concat(r.viewport_w,"x").concat(r.viewport_h),td_screen:"".concat(r.screen_w,"x").concat(r.screen_h)}]);D=o,T.emit(a),L.setDeviceId(L.deviceId)}},{key:"trackPage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.trackAction("view","page",e)}},{key:"trackPerformance",value:function(){var e=this;A.removeListener(x.performance),x.performance=A.addListener(window[I].document,"DOMContentLoaded",function(){e.trackAction("rum","page",{})},!1)}},{key:"trackUnload",value:function(){var e,t=this;e="onbeforeunload"in window[I]?"beforeunload":"onpagehide"in window[I]?"pagehide":"unload",A.removeListener(x.unload),x.unload=A.addListener(window[I],e,function(){t.trackAction("unload","page",{})},!1)}},{key:"trackClicks",value:function(e){var t=this;A.removeListener(x.click),x.click=A.addListener(window[I].document.body,"click",function(n){var o=e||"data-trackable",r=C.queryMatch('a, button, input, [role="button"]',n.target,o),a=null;r&&(a=r.element,t.trackAction("click",r.category,{cl_tag:a.tagName,cl_id:a.id||void 0,cl_class:a.className||void 0,cl_path:r.path||void 0,cl_link:a.href||void 0,cl_attr:a.dataset||void 0}))},!1)}},{key:"trackScroll",value:function(e,t,n,o){var r=this,a=e||20,i=100/a,c=1e3*t||2e3,d={},l=0,u=0,s="percent";A.removeListener(x.scroll),x.scroll=A.addListener(window[I],o,function(){"hidden"!==(d=C.getVisibility(null,I)).dIsVisible&&"prerender"!==d.dIsVisible&&("percent"===n?l=Math.floor(d.dScrollRate*i)*a:(l=d.dScrollUntil,s="pixel"),("percent"===s&&l>u&&l>=0&&l<=100||"pixel"===s&&l>u&&l>=a)&&setTimeout(function(){l>u&&(r.trackAction("scroll","page",{sc_page_height:d.dHeight,sc_depth:l,sc_unit:s}),u="percent"===s?l:l+a)},c))},!1)}},{key:"trackRead",value:function(e,t,n,o){var r=this;if(n){var a=e||20,i=100/a,c=1e3*t||2e3,d=new Date,l={},u=0,s=0;A.removeListener(x.read),x.read=A.addListener(window[I],o,function(){"hidden"!==(l=C.getVisibility(n,I)).dIsVisible&&"prerender"!==l.dIsVisible&&l.tIsInView&&(u=Math.floor(l.tScrollRate*i)*a)>s&&u>=0&&u<=100&&setTimeout(function(){u>s&&(r.trackAction("read","content",{rd_target_height:l.tHeight,rd_text_length:l.tLength,rd_rate:u,rd_elapsed_ms:(new Date).getTime()-d.getTime()}),s=u)},c)},!1)}}},{key:"trackMedia",value:function(){for(var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,n=["play","pause","ended"],o={},r=0;r<n.length;r++)A.removeListener(x.media[n[r]]),x.media[n[r]]=A.addListener(window[I].document.body,n[r],function(t){e.trackAction(t.type,t.target.tagName.toLowerCase(),C.getMediaInfo(t.target))},{capture:!0});A.removeListener(x.media.timeupdate),x.media.timeupdate=A.addListener(window[I].document,"timeupdate",function(n){if(o[n.target.src])return!1;o[n.target.src]=setTimeout(function(){!0!==n.target.paused&&!0!==n.target.ended&&e.trackAction(n.type,n.target.tagName.toLowerCase(),C.getMediaInfo(n.target)),o[n.target.src]=!1},1e3*t)},{capture:!0})}},{key:"getQueryVal",value:function(e){return E.query[e]?E.query[e]:""}}])&&M(t.prototype,n),o&&M(t,o),e}();window.Treasure=new P}]);