!function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=6)}([function(e,n){var t,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,s=[],f=!1,l=-1;function d(){f&&u&&(f=!1,u.length?s=u.concat(s):l=-1,s.length&&p())}function p(){if(!f){var e=c(d);f=!0;for(var n=s.length;n;){for(u=s,s=[];++l<n;)u&&u[l].run();l=-1,n=s.length}u=null,f=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(n){try{return r.call(null,e)}catch(n){return r.call(this,e)}}}(e)}}function v(e,n){this.fun=e,this.array=n}function y(){}o.nextTick=function(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)n[t-1]=arguments[t];s.push(new v(e,n)),1!==s.length||f||c(p)},v.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,n,t){"use strict";(function(e){t.d(n,"a",function(){return p});var r=t(2),o=t(3),i=(t(7),t(4));function a(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u,s,f,l=e.env.SDK_NAME||"JS",d=e.env.SDK_VERSION||"0.0.1",p=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.dataModel={}}var n,t,p;return n=e,(t=[{key:"init",value:function(e,n){u=new i.a({prefix:e.prefix}),s=new r.a({endpoint:e.endpoint,method:e.method,apiKey:e.apiKey,sdkName:l,sdkVersion:d,prefix:e.prefix,cookieDomain:e.cookieDomain,deviceId:u.deviceId}),f=new o.a,this.dataModel=n}},{key:"trackAction",value:function(){var e,n,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"unknown",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unknown",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a={action:t,category:r,root_id:u.rootId,client:(e=new Date,n=screen.orientation||screen.mozOrientation||screen.msOrientation,{timezone:e.getTimezoneOffset()/60*-1,timestamp:e.toISOString(),viewport_height:window.parent.innerHeight,viewport_width:window.parent.innerWidth,screen_height:window.parent.screen.height,screen_width:window.parent.screen.width,layout:n})},l=function e(n){for(var t={},r=0;r<n.length;r++)for(var o in n[r])"object"!==c(n[r][o])||null===n[r][o]||Array.isArray(n[r][o])?Array.isArray(n[r][o])?t[o]=t[o]?result[o].concat(n[r][o]):n[r][o]:t[o]=n[r][o]:t[o]=t[o]?e([t[o],n[r][o]]):n[r][o];return t}([this.dataModel,o,a]);f.queue.push(l),i&&s.emit(f.queue),u.isNewId?s.getDeviceId(function(e){u.setDeviceId(e)}):u.setDeviceId(u.deviceId)}},{key:"trackPage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.trackAction("view","page",e,!0)}}])&&a(n.prototype,t),p&&a(n,p),e}()}).call(this,t(0))},function(e,n,t){"use strict";function r(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}t.d(n,"a",function(){return u});var o,i=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,o=new XMLHttpRequest;return"function"==typeof r&&(o.onreadystatechange=function(){if(4===o.readyState&&200===o.status){var e;try{e=JSON.parse(o.response)}catch(e){}r.call(null,e)}}),o.open(n,e,!0),o.timeout=2e3,o.withCredentials=!0,o.send(t),!0},a=function(e){var n=(+new Date).toString(36),t=(document.location&&document.location.protocol,"http:");return"".concat(t,"//").concat(o.endpoint,"/").concat(e,"/").concat(o.apiKey,"/").concat(o.deviceId,"/1/").concat(n)},c=!0,u=function(){function e(n){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),o=n}var n,t,u;return n=e,(t=[{key:"emit",value:function(e){var n=a("ingest"),t=JSON.stringify({sdk:{name:void 0,version:void 0},beacons:e});if("GET"===o.method&&(n="".concat(n,"?data=").concat(encodeURIComponent(t)),t=null),"sendBeacon"in navigator&&"function"==typeof navigator.sendBeacon&&!0===c){try{c=navigator.sendBeacon(n,t)}catch(e){c=!1}return c||i(n,o.method,t),!0}return i(n,o.method,t),!0}},{key:"getDeviceId",value:function(e){var n=a("sync");"fetch"in window.parent&&"function"==typeof window.parent.fetch?window.parent.fetch(n).then(function(e){return e.json()}).then(function(n){e.call(null,n.id)}):i(n,"GET",null,function(n){e.call(null,n.id)})}}])&&r(n.prototype,t),u&&r(n,u),e}()},function(e,n,t){"use strict";function r(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}t.d(n,"a",function(){return o});var o=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.queue=[]}var n,t,o;return n=e,(t=[{key:"add",value:function(e){return this.queue.push(e),this.queue.length}},{key:"del",value:function(e){return this.queue.splice(0,e),!0}},{key:"save",value:function(e){try{storage.setItem(e,JSON.stringify(this.queue))}catch(e){}}},{key:"restore",value:function(e){var n=JSON.parse(localStorage.getItem(storageKey)||"[]");Array.prototype.push.apply(this.queue,n)}}])&&r(n.prototype,t),o&&r(n,o),e}()},function(e,n,t){"use strict";t.d(n,"a",function(){return l});var r=t(5),o=t.n(r);function i(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a,c,u,s=function(){var e,n,t,r=(e=c,n=window.parent.document.cookie||"",("; ".concat(n,";").match("; ".concat(e,"=([^Â¥S;]*)"))||[])[1]||""),o=localStorage.getItem(c)||"";if(r.length>8)t=r;else if(o.length>8)t=o;else{var i=(+new Date).toString(36);t="".concat(i,"-").concat(u),f=!0}return t},f=!1,l=function(){function e(n){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),u=o()().replace(/-/g,""),c="".concat(n.prefix,"-id"),a=n.cookieDomain,this.deviceId=s(),this.rootId="".concat(this.deviceId).concat(u),this.isNewId=f,console.log(this.isNewId)}var n,t,r;return n=e,(t=[{key:"setDeviceId",value:function(e){this.deviceId=e;try{localStorage.setItem(c,e)}catch(e){}window.parent.document.cookie="".concat(c,"=").concat(e,"; Domain=").concat(a,"; Path=/; Max-Age=31536000; SameSite=Lax")}}])&&i(n.prototype,t),r&&i(n,r),e}()},function(e,n,t){var r=t(8),o=t(9);e.exports=function(e,n,t){var i=n&&t||0;"string"==typeof e&&(n="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,n)for(var c=0;c<16;++c)n[i+c]=a[c];return n||o(a)}},function(e,n,t){"use strict";t.r(n),function(e){var n=t(1),r=e.env.NAMESPACE||"Polytrek";window[r]=new n.a}.call(this,t(0))},function(e,n,t){"use strict";n.setupRecurringEvent=function(e){var n,t;try{n=new CustomEvent(e)}catch(t){(n=window.parent.document.createEvent("CustomEvent")).initCustomEvent(e,!1,!1,{})}window.parent.requestAnimationFrame=window.parent.requestAnimationFrame||window.parent.mozRequestAnimationFrame||window.parent.webkitRequestAnimationFrame,function e(){if(window.parent.requestAnimationFrame(e),t)return!1;t=setTimeout(function(){window.parent.dispatchEvent(n),t=null},250)}()},n.addListener=function(e,n,t,i){return e.addEventListener(n,t,i),r[o]={element:e,type:n,listener:t,capture:i},o++},n.removeListener=function(e){if(e in r){var n=r[e];n.element.removeEventListener(n.type,n.listener,n.capture)}};var r={},o=0},function(e,n){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var r=new Uint8Array(16);e.exports=function(){return t(r),r}}else{var o=new Array(16);e.exports=function(){for(var e,n=0;n<16;n++)0==(3&n)&&(e=4294967296*Math.random()),o[n]=e>>>((3&n)<<3)&255;return o}}},function(e,n){for(var t=[],r=0;r<256;++r)t[r]=(r+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,o=t;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}}]);